var ylkMonitor=function(){"use strict";function o(n,r){this.config=n,this.submit_log=[],this.merge_lock=!1,this.push=function(r){this.submit_log.push(r),this.report()},this.report=function(){var r=this;if(n.mergeReport&&0<this.submit_log.length){if(this.merge_lock)return;r.merge_lock=!0,setTimeout(function(){r.submit(),r.merge_lock=!1},1e3*n.delay)}else r.submit()},this.submit=function(r){var e={id:n.id,log:r||this.submit_log,device:null,time:(new Date).getTime()};e.device=this.getDeviceInfo();var t=new XMLHttpRequest;t.open("post",n.url),t.setRequestHeader("Content-type","application/json"),t.send(JSON.stringify(e)),r||(this.submit_log=[]),t.onreadystatechange=function(){}},this.getDeviceInfo=function(){return(r||window).navigator.userAgent}}var i=function(r,e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r},u=function(r){var e=window.onload;"function"!=typeof window.onload?window.onload=r:window.onload=function(){e(),r()}},c=function(r,e){return Object.prototype.toString.call(r)==="[object "+(e||"Object")+"]"},m=function(r){var e=r.stack.replace(/\n/gi,"").split(/\bat\b/).slice(0,9).join("@").replace(/\?[^:]+/gi,""),t=r.toString();return e.indexOf(t)<0&&(e=t+"@"+e),e};var d={id:"",mergeReport:!0,delay:1e3,url:"http://127.0.0.1:5500",random:1,performance:{open:!0,random:1},error:{open:!0,random:1,ignore:[]},waitLoadTime:5};return window.ylkMonitor={init:function(r,e){!0===e.performance&&(e.performance=d.performance,e.performance.open=!0),!0===e.error&&(e.error=d.error,e.error.open=!0);var a,s,t=i(d,e),n=this.reporter=new o(t,r);t.performance&&function(o,r,i){if(!(Math.random()>(r.performance.random||r.random))){var e=!1,a=!1;u(function(){a||(t(),e=!0)}),setTimeout(function(){console.log(r.waitLoadTime,e),e||t()},1e3*r.waitLoadTime)}function t(){var r=o.performance||window.performance;if(r&&r.timing){var e=r.timing,t={};for(var n in e)"number"==typeof e[n]&&(t[n]=(e[n]+"").substring(6));return i.push({type:"performance",data:t}),a=!0,t}}}(r,t,n),t.error&&(a=t,s=n,(r||window).onerror=function(r,e,t,n,o){var i=r;o&&o.stack&&(i=m(o)),c(i,"Event")&&(i+=i.type?"--"+i.type+"--"+(i.target?i.target.tagName+"::"+i.target.src:""):""),Math.random()<(a.error.random||a.random)&&s.push({type:"error",data:{msg:i,target:e,rowNum:t,colNum:n,_orgMsg:r}})},window.addEventListener("error",function(r){r.stopImmediatePropagation();var e=r.srcElement;e===window||Math.random()<(a.error.random||a.random)&&s.push({type:"error",data:{url:e.src||e.href,tag:e.tagName}})},!0),window.addEventListener("unhandledrejection",function(r){r.preventDefault(),Math.random()<(a.error.random||a.random)&&s.push({type:"error",data:{msg:r.reason.message||"_",stack:r.reason.stack||"_"}})}))},push:function(r){this.reporter.push(r)},submit:function(r){this.reporter.submit([r])}}}();
